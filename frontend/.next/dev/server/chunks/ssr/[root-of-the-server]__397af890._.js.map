{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 88, "column": 0}, "map": {"version":3,"sources":["file:///app/src/lib/api.ts"],"sourcesContent":["import axios from 'axios';\r\n\r\nconst api = axios.create({\r\n  // Docker環境なので、ブラウザからは localhost:8000 でバックエンドにアクセスします\r\n  baseURL: process.env.NEXT_PUBLIC_API_URL || 'http://localhost:8000',\r\n  headers: {\r\n    'Content-Type': 'application/json',\r\n  },\r\n});\r\n\r\nexport default api;"],"names":[],"mappings":";;;;AAAA;;AAEA,MAAM,MAAM,gJAAK,CAAC,MAAM,CAAC;IACvB,qDAAqD;IACrD,SAAS,6DAAmC;IAC5C,SAAS;QACP,gBAAgB;IAClB;AACF;uCAEe"}},
    {"offset": {"line": 106, "column": 0}, "map": {"version":3,"sources":["file:///app/src/app/planner/page.tsx"],"sourcesContent":["// 'use client';\r\n// import { useState } from 'react';\r\n\r\n// export default function PlannerPage() {\r\n//   const [theme, setTheme] = useState('');\r\n//   const [hookText, setHookText] = useState('');\r\n//   const [selectedAngle, setSelectedAngle] = useState('1'); // マスタID想定\r\n\r\n//   const angles = [\r\n//     { id: '1', name: '矛盾と疑問', description: '世の中の当たり前に疑問を投げかける' },\r\n//     { id: '2', name: '挫折と教訓', description: '失敗から得た学びを共有する' },\r\n//     { id: '3', name: '未来と想像力', description: '一歩先の未来を予測し考察する' },\r\n//   ];\r\n\r\n//   const handleGenerate = () => {\r\n//     // 💡 ここでバックエンドの generate_talk_scaffold APIを叩く\r\n//     alert(`${theme} のトーク構成を生成します...`);\r\n//   };\r\n\r\n'use client';\r\nimport { useState } from 'react';\r\nimport api from '@/lib/api'; // 先ほど作った共通クライアント\r\nimport { useRouter } from 'next/navigation';\r\n\r\nexport default function PlannerPage() {\r\n  const router = useRouter();\r\n  const [theme, setTheme] = useState('');\r\n  const [hookText, setHookText] = useState('');\r\n  const [selectedAngle, setSelectedAngle] = useState('1');\r\n  const [isGenerating, setIsGenerating] = useState(false);\r\n\r\n  const angles = [\r\n    { id: '1', name: '矛盾と疑問', description: '世の中の当たり前に疑問を投げかける' },\r\n    { id: '2', name: '挫折と教訓', description: '失敗から得た学びを共有する' },\r\n    { id: '3', name: '未来と想像力', description: '一歩先の未来を予測し考察する' },\r\n  ];\r\n\r\n  const handleGenerate = async () => {\r\n    if (!theme || !hookText) {\r\n      alert(\"テーマと導入フックを入力してください。\");\r\n      return;\r\n    }\r\n\r\n    setIsGenerating(true);\r\n    try {\r\n      // 1. プロジェクトを新規作成\r\n      const projectRes = await api.post('/projects/', {\r\n        theme: theme,\r\n        input_angle_id: parseInt(selectedAngle),\r\n        // 実際の実装に合わせて他の必須フィールドも送る\r\n      });\r\n      \r\n      const projectId = projectRes.data.project_id;\r\n\r\n      // 2. AIトーク骨子を生成（Geminiを叩く）\r\n      // バックエンドの generate_talk_scaffold 関数を呼び出すエンドポイントを想定\r\n      await api.post(`/projects/${projectId}/scaffold`);\r\n\r\n      alert(\"AI構成の生成が完了しました！スタジオに移動します。\");\r\n      \r\n      // 3. 生成された構成を持ってStudio画面へ移動\r\n      router.push(`/studio?projectId=${projectId}`);\r\n      \r\n    } catch (error) {\r\n      console.error(\"生成エラー:\", error);\r\n      alert(\"AI生成中にエラーが発生しました。バックエンドのログを確認してください。\");\r\n    } finally {\r\n      setIsGenerating(false);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"p-10 max-w-5xl mx-auto\">\r\n      <header className=\"mb-10\">\r\n        <h1 className=\"text-3xl font-black text-slate-800\">New Project</h1>\r\n        <p className=\"text-slate-500\">トークの核となる「導入フック」を固定し、AIと構成を練ります。</p>\r\n      </header>\r\n\r\n      <div className=\"grid grid-cols-1 lg:grid-cols-3 gap-8\">\r\n        {/* 左側：入力フォーム */}\r\n        <div className=\"lg:col-span-2 space-y-8\">\r\n          <section className=\"bg-white p-8 rounded-[32px] shadow-sm border border-slate-100\">\r\n            <label className=\"block text-sm font-bold text-slate-400 uppercase tracking-widest mb-4\">Step 1: トークテーマ</label>\r\n            <input \r\n              type=\"text\"\r\n              value={theme}\r\n              onChange={(e) => setTheme(e.target.value)}\r\n              placeholder=\"例：AI時代の労働の価値について\"\r\n              className=\"w-full text-2xl font-bold p-0 border-none focus:ring-0 placeholder:text-slate-200\"\r\n            />\r\n          </section>\r\n\r\n          <section className=\"bg-white p-8 rounded-[32px] shadow-sm border border-slate-100\">\r\n            <label className=\"block text-sm font-bold text-slate-400 uppercase tracking-widest mb-4\">Step 2: 導入フック（主張の固定）</label>\r\n            <textarea \r\n              rows={4}\r\n              value={hookText}\r\n              onChange={(e) => setHookText(e.target.value)}\r\n              placeholder=\"最初の90秒で語る感情や主張を入力してください。これがAI生成の核になります。\"\r\n              className=\"w-full text-lg p-0 border-none focus:ring-0 bg-transparent placeholder:text-slate-200 resize-none\"\r\n            />\r\n          </section>\r\n        </div>\r\n\r\n        {/* 右側：設定と実行 */}\r\n        <div className=\"space-y-6\">\r\n          <section className=\"bg-slate-900 text-white p-8 rounded-[32px] shadow-xl\">\r\n            <label className=\"block text-xs font-bold text-slate-500 uppercase tracking-widest mb-6\">Step 3: アングル選択</label>\r\n            <div className=\"space-y-3\">\r\n              {angles.map((angle) => (\r\n                <button\r\n                  key={angle.id}\r\n                  onClick={() => setSelectedAngle(angle.id)}\r\n                  className={`w-full text-left p-4 rounded-2xl border-2 transition-all ${\r\n                    selectedAngle === angle.id \r\n                    ? 'border-emerald-500 bg-emerald-500/10' \r\n                    : 'border-slate-800 hover:border-slate-700'\r\n                  }`}\r\n                >\r\n                  <div className=\"font-bold\">{angle.name}</div>\r\n                  <div className=\"text-xs text-slate-400\">{angle.description}</div>\r\n                </button>\r\n              ))}\r\n            </div>\r\n\r\n            <button \r\n                onClick={handleGenerate}\r\n                disabled={isGenerating}\r\n                className={`w-full mt-8 py-4 rounded-2xl font-black text-lg transition-all shadow-lg ${\r\n                    isGenerating ? 'bg-slate-700 cursor-not-allowed' : 'bg-emerald-500 hover:bg-emerald-400 text-white shadow-emerald-900/20'\r\n                }`}\r\n                >\r\n                {isGenerating ? 'AI思考中...' : '構成を自動生成する'}\r\n    </button>\r\n          </section>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}"],"names":[],"mappings":"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"}}]
}