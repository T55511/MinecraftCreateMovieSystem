{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///app/src/lib/api.ts"],"sourcesContent":["import axios from 'axios';\r\n\r\nconst api = axios.create({\r\n  // Docker環境なので、ブラウザからは localhost:8000 でバックエンドにアクセスします\r\n  baseURL: process.env.NEXT_PUBLIC_API_URL || 'http://localhost:8000',\r\n  headers: {\r\n    'Content-Type': 'application/json',\r\n  },\r\n});\r\n\r\nexport default api;"],"names":[],"mappings":";;;;AAIW;AAJX;;AAEA,MAAM,MAAM,mJAAK,CAAC,MAAM,CAAC;IACvB,qDAAqD;IACrD,SAAS,6DAAmC;IAC5C,SAAS;QACP,gBAAgB;IAClB;AACF;uCAEe"}},
    {"offset": {"line": 26, "column": 0}, "map": {"version":3,"sources":["file:///app/src/app/planner/page.tsx"],"sourcesContent":["// 'use client';\r\n// import { useState } from 'react';\r\n\r\n// export default function PlannerPage() {\r\n//   const [theme, setTheme] = useState('');\r\n//   const [hookText, setHookText] = useState('');\r\n//   const [selectedAngle, setSelectedAngle] = useState('1'); // マスタID想定\r\n\r\n//   const angles = [\r\n//     { id: '1', name: '矛盾と疑問', description: '世の中の当たり前に疑問を投げかける' },\r\n//     { id: '2', name: '挫折と教訓', description: '失敗から得た学びを共有する' },\r\n//     { id: '3', name: '未来と想像力', description: '一歩先の未来を予測し考察する' },\r\n//   ];\r\n\r\n//   const handleGenerate = () => {\r\n//     // 💡 ここでバックエンドの generate_talk_scaffold APIを叩く\r\n//     alert(`${theme} のトーク構成を生成します...`);\r\n//   };\r\n\r\n'use client';\r\nimport { useState } from 'react';\r\nimport api from '@/lib/api'; // 先ほど作った共通クライアント\r\nimport { useRouter } from 'next/navigation';\r\n\r\nexport default function PlannerPage() {\r\n  const router = useRouter();\r\n  const [theme, setTheme] = useState('');\r\n  const [hookText, setHookText] = useState('');\r\n  const [selectedAngle, setSelectedAngle] = useState('1');\r\n  const [isGenerating, setIsGenerating] = useState(false);\r\n\r\n  const angles = [\r\n    { id: '1', name: '矛盾と疑問', description: '世の中の当たり前に疑問を投げかける' },\r\n    { id: '2', name: '挫折と教訓', description: '失敗から得た学びを共有する' },\r\n    { id: '3', name: '未来と想像力', description: '一歩先の未来を予測し考察する' },\r\n  ];\r\n\r\n  const handleGenerate = async () => {\r\n    if (!theme || !hookText) {\r\n      alert(\"テーマと導入フックを入力してください。\");\r\n      return;\r\n    }\r\n\r\n    setIsGenerating(true);\r\n    try {\r\n      // 1. プロジェクトを新規作成\r\n      const projectRes = await api.post('/projects/', {\r\n        theme: theme,\r\n        input_angle_id: parseInt(selectedAngle),\r\n        // 実際の実装に合わせて他の必須フィールドも送る\r\n      });\r\n      \r\n      const projectId = projectRes.data.project_id;\r\n\r\n      // 2. AIトーク骨子を生成（Geminiを叩く）\r\n      // バックエンドの generate_talk_scaffold 関数を呼び出すエンドポイントを想定\r\n      await api.post(`/projects/${projectId}/scaffold`);\r\n\r\n      alert(\"AI構成の生成が完了しました！スタジオに移動します。\");\r\n      \r\n      // 3. 生成された構成を持ってStudio画面へ移動\r\n      router.push(`/studio?projectId=${projectId}`);\r\n      \r\n    } catch (error) {\r\n      console.error(\"生成エラー:\", error);\r\n      alert(\"AI生成中にエラーが発生しました。バックエンドのログを確認してください。\");\r\n    } finally {\r\n      setIsGenerating(false);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"p-10 max-w-5xl mx-auto\">\r\n      <header className=\"mb-10\">\r\n        <h1 className=\"text-3xl font-black text-slate-800\">New Project</h1>\r\n        <p className=\"text-slate-500\">トークの核となる「導入フック」を固定し、AIと構成を練ります。</p>\r\n      </header>\r\n\r\n      <div className=\"grid grid-cols-1 lg:grid-cols-3 gap-8\">\r\n        {/* 左側：入力フォーム */}\r\n        <div className=\"lg:col-span-2 space-y-8\">\r\n          <section className=\"bg-white p-8 rounded-[32px] shadow-sm border border-slate-100\">\r\n            <label className=\"block text-sm font-bold text-slate-400 uppercase tracking-widest mb-4\">Step 1: トークテーマ</label>\r\n            <input \r\n              type=\"text\"\r\n              value={theme}\r\n              onChange={(e) => setTheme(e.target.value)}\r\n              placeholder=\"例：AI時代の労働の価値について\"\r\n              className=\"w-full text-2xl font-bold p-0 border-none focus:ring-0 placeholder:text-slate-200\"\r\n            />\r\n          </section>\r\n\r\n          <section className=\"bg-white p-8 rounded-[32px] shadow-sm border border-slate-100\">\r\n            <label className=\"block text-sm font-bold text-slate-400 uppercase tracking-widest mb-4\">Step 2: 導入フック（主張の固定）</label>\r\n            <textarea \r\n              rows={4}\r\n              value={hookText}\r\n              onChange={(e) => setHookText(e.target.value)}\r\n              placeholder=\"最初の90秒で語る感情や主張を入力してください。これがAI生成の核になります。\"\r\n              className=\"w-full text-lg p-0 border-none focus:ring-0 bg-transparent placeholder:text-slate-200 resize-none\"\r\n            />\r\n          </section>\r\n        </div>\r\n\r\n        {/* 右側：設定と実行 */}\r\n        <div className=\"space-y-6\">\r\n          <section className=\"bg-slate-900 text-white p-8 rounded-[32px] shadow-xl\">\r\n            <label className=\"block text-xs font-bold text-slate-500 uppercase tracking-widest mb-6\">Step 3: アングル選択</label>\r\n            <div className=\"space-y-3\">\r\n              {angles.map((angle) => (\r\n                <button\r\n                  key={angle.id}\r\n                  onClick={() => setSelectedAngle(angle.id)}\r\n                  className={`w-full text-left p-4 rounded-2xl border-2 transition-all ${\r\n                    selectedAngle === angle.id \r\n                    ? 'border-emerald-500 bg-emerald-500/10' \r\n                    : 'border-slate-800 hover:border-slate-700'\r\n                  }`}\r\n                >\r\n                  <div className=\"font-bold\">{angle.name}</div>\r\n                  <div className=\"text-xs text-slate-400\">{angle.description}</div>\r\n                </button>\r\n              ))}\r\n            </div>\r\n\r\n            <button \r\n                onClick={handleGenerate}\r\n                disabled={isGenerating}\r\n                className={`w-full mt-8 py-4 rounded-2xl font-black text-lg transition-all shadow-lg ${\r\n                    isGenerating ? 'bg-slate-700 cursor-not-allowed' : 'bg-emerald-500 hover:bg-emerald-400 text-white shadow-emerald-900/20'\r\n                }`}\r\n                >\r\n                {isGenerating ? 'AI思考中...' : '構成を自動生成する'}\r\n    </button>\r\n          </section>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}"],"names":["useState","api","useRouter","PlannerPage","router","theme","setTheme","hookText","setHookText","selectedAngle","setSelectedAngle","isGenerating","setIsGenerating","angles","id","name","description","handleGenerate","alert","projectRes","post","input_angle_id","parseInt","projectId","data","project_id","push","error","console","e","target","value","map","angle"],"mappings":"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","ignoreList":[]}}]
}